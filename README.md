# PMI-Consolidation
Consolidate two lists of names, which share a common identifier

PMI Consolidation is the process of checking two lists of names; a master list and a secondary list,
to ensure that every name in the secondary list is also in the master list. The two lists will share a common identifier, so the match is "same identifier, same name" in both lists. Some names in the secondary list will exist in the master list, but the identifiers won't match. Here, the master list is deemed the source of truth and these names, in the secondary list, will have their identifier updated to the correct value. Some names in the secondary list won't exist in the master list. These names will have to be added to the master list and a master list identifier assigned, after which the matching names in the secondary list will be assigned the new identifier from the master list.

A typical scenario, in a healthcare/hospital environment, is where a deparment has been running their own application for their own patients. The hospital will have a Patient Administration System (PAS) which records patient names and assigned a hospital wide UR or MRN. The department, in their independent application will also have been creating patient records and may have been recording the hospital wide UR/MRN manually. These deparmental records will have spelling mistakes in the names and incorrect UR/MRN value due to typos, digital transposition, etc. In this scenario, the a list of all patients and UR/MRN from the PAS would be considered the master list and a list of all the deparment's patients and UR/MRN would be considered the secondary list. Consolidating these two lists would be useful from a data quality perspective. However, if the department intends to integrate with the PAS using HL7, then consolidating these two lists becomes essential, to avoid accidental reassignment of medical records to the incorrect patients.

Lists of doctors is another typical healthcare/hospital environment. The Pharmacy will have an application which will hold all the names of the doctors (employees) and their Prescriber number (authorization to prescribe medicines). The hospital will have a Patient Administration System (PAS) which has a list of doctors (employees) and a Provider number, for assigning to inpatients. And the Medical Workforce team will have an Excel spreadsheet of all the doctors (employees) with both their Prescriber number and their Provider number. Consolidating these three lists will be essential if the hospital intends to deploy an EMR where doctors, assingned to patients, can prescribe medications.

## The Process
PMI Consolidation is not something that comes "out of the box". Each scenario will be different; each scenario will require configuration and potentially fine tuning the software. What is common is that all lists will be "dirty"; duplicates and less than perfect data (some uses append and asterisk to the surname if the person is dead, others put the person's maiden name after their surname in brackets, others put nicknames in barckets afther the given name). So the first two steps in the process focus on cleaning up the master and secondary lists. The next step is focuses on check records in both lists that share the same common identifier; if they have the same identifier, then are the names, date of birth and administrative sex the same. Where there is a mismatch (same identifier, different names) then we assume that the names are correct, but the identifier in the secondary list is wrong. The fourth step focuses on names in the secondary list which don't have a value for the common identifier and name in the secondary list with the wrong identifier, as discovered in third step. Here we check each of these names against every name in the master list, looking for a match.

In steps 3 and 4 we are doing matching. Hopefully everything is either a perfect match or a perfect mismatch. Alas, it never turns out that way. There will always be close, approxiamate, nearly matches; RUSSEL doesn't match RUSSELL, or does it? Often, checking additional data such as address, medicare number, next of kin etc., will clarify things. It is possible to configure these additional checks, but no possible to construct a perfect, definitive matching algorith; there will always be a need for human participation in the process. To aid this manual part of the proces, steps 3 and 4 create Excel workbooks of names that need manual checking with details of the reason/what needs checking. These steps also include tools to facilitate processing these workbooks after they have been manually checked.

Full descriptions of the theory and process can be found in the documentation in the Documentation folder.

